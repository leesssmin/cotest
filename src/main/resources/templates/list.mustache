<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ê²Œì‹œê¸€ ëª©ë¡</title>
    <link rel="stylesheet" href="/css/list.css">
</head>
<body>
<div class="container">
    <!-- í—¤ë” -->
    <header>
        <!-- ì™¼ìª½: ì‚¬ì´íŠ¸ ì´ë¦„ -->
        <h1><a href="/" style="color:white; text-decoration:none;">My Tenco</a></h1>

        <!-- ì˜¤ë¥¸ìª½: ë©”ë‰´ -->
        <nav>
            <!-- ë¡œê·¸ì¸ ì•ˆ ëœ ìƒíƒœ -->
            {{^isLoggedIn}}
                <a href="/login" class="button">ë¡œê·¸ì¸</a>
                <a href="/signup" class="button">íšŒì›ê°€ì…</a>
            {{/isLoggedIn}}

            <!-- ë¡œê·¸ì¸ ëœ ìƒíƒœ -->
            {{#isLoggedIn}}
                <span style="color:white; margin-right:10px;">í™˜ì˜í•©ë‹ˆë‹¤, {{username}}ë‹˜</span>
                <a href="/logout" class="button">ë¡œê·¸ì•„ì›ƒ</a>
            {{/isLoggedIn}}
        </nav>
    </header>

    <!-- ê²€ìƒ‰ë°” -->
    <div class="search-section">
        <form action="/posts" method="get" class="search-form">
            <input type="text" name="keyword" placeholder="ì œëª© ë˜ëŠ” ë‚´ìš©ìœ¼ë¡œ ê²€ìƒ‰..." value="{{keyword}}">
            <button type="submit" class="search-btn">ğŸ” ê²€ìƒ‰</button>
        </form>
    </div>

    <!-- ê¸€ ì‘ì„± ë²„íŠ¼ -->
    {{#isLoggedIn}}
        <div class="post-action">
            <a href="/posts/new" class="button create-btn">ê¸€ ì‘ì„±</a>
        </div>
    {{/isLoggedIn}}

    <!-- ê²Œì‹œê¸€ ëª©ë¡ -->
    <div class="post-list">
        {{#posts}}
            <div class="post-card">
                <h2><a href="/posts/{{id}}">{{title}}</a></h2>
                <p class="author">ì‘ì„±ì: {{author}}</p>
                <p class="snippet">{{content}}</p>
            </div>
        {{/posts}}

        {{^posts}}
            <div class="empty-state">
                <div class="empty-state-icon">ğŸ“</div>
                <p class="empty-state-text">ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                {{#isLoggedIn}}
                    <a href="/posts/new" class="button">ì²« ê¸€ ì‘ì„±í•˜ê¸°</a>
                {{/isLoggedIn}}
            </div>
        {{/posts}}
    </div>

    <!-- í˜ì´ì§• -->
    <div class="pagination">
        <!-- ì´ì „ ë²„íŠ¼ -->
        {{#hasPrevious}}
            <a href="/posts?page={{previousPage}}" class="page-btn prev-btn">â† ì´ì „</a>
        {{/hasPrevious}}
        {{^hasPrevious}}
            <span class="page-btn prev-btn disabled">â† ì´ì „</span>
        {{/hasPrevious}}

        <!-- í˜ì´ì§€ ë²ˆí˜¸ -->
        <div class="page-numbers">
            {{#pageNumbers}}
                <a href="/posts?page={{number}}" class="page-number {{#active}}active{{/active}}">{{display}}</a>
            {{/pageNumbers}}
        </div>

        <!-- ë‹¤ìŒ ë²„íŠ¼ -->
        {{#hasNext}}
            <a href="/posts?page={{nextPage}}" class="page-btn next-btn">ë‹¤ìŒ â†’</a>
        {{/hasNext}}
        {{^hasNext}}
            <span class="page-btn next-btn disabled">ë‹¤ìŒ â†’</span>
        {{/hasNext}}
    </div>
</div>
</body>
</html>
